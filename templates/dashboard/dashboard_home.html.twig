{% extends "dashboard/dashboard_base.html.twig" %}

{% block body %}

    <div class="container-fluid contenuArticle">
        <div class="row justify-content-center">
            <h1 class="upc mx-auto">Liste des articles</h1>
            <table class="table mt-5 text-center text-nowrap">
                <thead>
                    <tr>
                        <th class="px-0">Categorie</th>
                        <th class="px-0">Titre</th>
                        <th class="px-0">Contenu</th>
                        <th class="px-0">Créé le</th>
                        <th class="px-0">Modifier</th>
                        <th class="px-0">Supprimer</th>
                    </tr>
                </thead>

                <tbody>

                    {% for article in app.user.articles %}

                        <tr>
                            <td>{{ article.category.name }}</td>
                            <td>{{ article.title }}</td>
                            {% if article.content|length > 20 %}
                            <td>{{ article.content|raw}}</td>
                            {% endif %}
                            <td>{{ article.createdAt | date("d-m-Y") }}</td>
                            <td><a href="{{ path('update_article', {id: article.id}) }}" id="lien"><img src="{{asset('images/edit.svg')}}" id="imageModifier"  alt="Icone modifier"></a></td>
                            <td><a href="{{ path('delete_article', {idArticle: article.id}) }}"><img src="{{asset('images/supprimer.png')}}" id="imageSupprimer" alt="Icone supprimer"></a></td>
                        </tr>

                    {% endfor %}

                </tbody>

            </table>

        </div>
    </div>

{% endblock %}


